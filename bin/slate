#!/usr/bin/env ruby

require 'kramdown'

args = ARGV[0]
filename = File.basename(args, ".*")

# Ruby uses begin-rescue keywords instead of try-catch LMAO.... WHYYY
begin
  content = File.read(args)
  #Kramdown is cool. 
  raw_html = Kramdown::Document.new(content).to_html
  final_html = "<body>\n#{raw_html}\n</body>"
  File.write("#{filename}.html", final_html)
  puts "Saved #{filename}.html"
rescue Errno::ENOENT
    puts "No such file: #{args}"
rescue => e
    puts "Unexpected error occured: #{e.message}"
end
